*** Settings ***
Library            Selenium2Library
Library            ImapLibrary
Library            String
Resource           msg_${l}.txt
Resource           Keyword.txt
Suite Setup        Open Page
Suite teardown     Reload Page

*** Variables ***
${l}          en
${email}      sirilacktest@gmail.com
*** Test Cases ***
# Register Company : Helper

#     Click Element                     id=register_username
#     Click Element                     id=login_username
#     Element Text Should Be            id=register_username_helper                   ${helper_username}

#     Click Element                     id=register_password
#     Click Element                     id=login_username
# #    Element Text Should Be            id=register_password_helper                   ${helper_password}          #BUG

#     Click Element                     id=register_confirm_password
#     Click Element                     id=login_username

#     Click Element                     id=register_company_name
#     Click Element                     id=login_username

#     Click Element                     id=select2-register_business_type-container
#     Click Element                     id=login_username

#     Click Element                     id=register_contact_name
#     Click Element                     id=login_username

#     Click Element                     id=register_contact_tel
#     Click Element                     id=login_username

#     Click Element                     id=register_contact_email
#     Click Element                     id=login_username
# #    Element Text Should Be            id=register_contact_email_helper              ${helper_email}           #BUG

#     Click Element                     id=register_submit
# #    Element Text Should Be            id=register_recaptcha_error                   ${inner_recaptcha}       #BUG

# Register Company : Reqire all field

#    Input Text                       id=register_username                         ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_username_error                   ${inner_username_require}

#    Input Text                       id=register_password                         ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_password_error                   ${inner_password_require}


#    Input Text                       id=register_confirm_password                 ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_confirm_password_error           ${inner_comfirm_password_require}


#    Input Text                       id=register_company_name                     ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_company_name_error               ${inner_company_name_require}

#    Click Element                    id=register_business_type
#    Click Element                    id=login_username
# #   Element Text Should Be           id=register_business_type_error              ${inner_business_type_require}      #BUG


#    Input Text                       id=register_contact_name                     ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_contact_name_error               ${inner_contact_name_require}


#    Input Text                       id=register_contact_tel                      ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_contact_tel_error                ${inner_tel_require}

#    Input Text                       id=register_contact_email                    ${empty}
#    Click Element                    id=login_username
#    Element Text Should Be           id=register_contact_email_error              ${inner_email_require}

#    Click Button                     id=register_submit
# #    Element Text Should Be            id=register_recaptcha_error                   ${inner_recaptcha}       #BUG
# Register Company : Username is equal Password

#     Input Text                         id=register_password                         pass_company
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_password_error                   ${empty}


#     Input Text                         id=register_username                         pass_company
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_username_error                   ${inner_username_equal_pass}


#     Input Text                         id=register_confirm_password                 pass_company
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_confirm_password_error           ${empty}

#     Input Text                         id=register_company_name                     Thinknet Test Company
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_company_name_error               ${empty}

#     Select From List By Label          id=register_business_type                    ${business_type}
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_business_type_error              ${empty}

#     Input Text                         id=register_contact_name                     HR
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_contact_name_error               ${empty}

#     Input Text                         id=register_contact_tel                      02-9000000
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_contact_tel_error                ${empty}


#     Input Text                         id=register_contact_email                    contact_test_company@thinknet.co.th
#     Click Element                      id=login_username
#     Element Text Should Be             id=register_contact_email_error              ${empty}


#     Click Button                       id=register_submit
#    Element Text Should Be            id=register_recaptcha_error                   ${inner_recaptcha}       #BUG

Register Company : Success

    Input Text                         id=register_username                        test_robot_17
    Click Element                      id=login_username
    Element Text Should Be             id=register_username_error                  ${empty}

    Input Text                         id=register_password                        10042535
    Click Element                      id=login_username
    Element Text Should Be             id=register_password_error                  ${empty}

    Input Text                         id=register_confirm_password                10042535
    Click Element                      id=login_username
    Element Text Should Be             id=register_confirm_password_error          ${empty}

    Input Text                         id=register_company_name                    บริษัท ทดสอบ (Test) จำกัด
    Click Element                      id=login_username
    Element Text Should Be             id=register_company_name_error              ${empty}

    Select From List By Label          id=register_business_type                   ${business_type}
    Click Element                      id=login_username
    Element Text Should Be             id=register_business_type_error             ${empty}

    Input Text                         id=register_contact_name                    นายทดสอบ ตรวจสอบ
    Click Element                      id=login_username
    Element Text Should Be             id=register_contact_name_error              ${empty}

    Input Text                         id=register_contact_tel                     081-1001-955
    Click Element                      id=login_username
    Element Text Should Be             id=register_contact_tel_error               ${empty}

    Input Text                         id=register_contact_email                   ${email}
    Click Element                      id=login_username
    Element Text Should Be             id=register_contact_email_error             ${empty}

    sleep                              20s
    Click Button                       id=register_submit

    Page Should Contain                ${Register_Success}
    Page Should Contain                ${Plese_Click}

    Click Element                      id=confirm_button

    Page Should Contain                ${Please_Select}

Open Welcome Email
  Open Mailbox      host=imap.googlemail.com    user=${email}   password=10042535
  ${LATEST} =       Wait For Email
              ...   sender=support@jobthail.com
              ...   subject=Welcome to JobThai.com
              ...   recipient=${email}
              ...   text=test_robot_17
              ...   text=10042535
              ...   timeout=60
#    ${HTML} =        Get Email Body      ${LATEST}
#    log  ${HTML}
#    ${string} =  Decode Bytes To String  Dear The Human Resources Department  ASCII  errors=ignore
#    Should Contain   ${HTML}             ${string}




